"use strict";(self["webpackChunkShmily"]=self["webpackChunkShmily"]||[]).push([[3681],{53681:function(t,a,s){s.r(a),s.d(a,{default:function(){return u}});var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("MsgWrap",{attrs:{noPadding:""}},[s("div",{staticClass:"wechat-chatRecord",attrs:{target:"_blank"},on:{click:function(a){t.dialogVisible=!0}}},[s("h4",[t._v(t._s(t.title))]),s("div",{staticClass:"description",domProps:{innerHTML:t._s(t.des)}}),s("div",{staticClass:"bottom"},[t._v("聊天记录")]),s("el-dialog",{staticClass:"dialog-chatList",attrs:{"append-to-body":!0,fullscreen:!0,title:t.title,visible:t.dialogVisible},on:{"update:visible":function(a){t.dialogVisible=a}}},t._l(t.datalist,(function(a,i){return s("div",{key:i,staticClass:"chatWrap"},[s("div",{staticClass:"left"},[s("img",{staticClass:"avatar",attrs:{src:t.avatarUrl(a)}})]),s("div",{staticClass:"center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"info"},[s("span",{staticClass:"name"},[t._v(t._s(a.sourcename))]),s("span",{staticClass:"time"},[t._v(t._s(a.sourcetime))])]),a.fullmd5?s("img",{attrs:{src:t.chatUrl(i,a.fullmd5)},on:{click:function(s){return t.previewImg(i,a.fullmd5)}}}):t._e(),s("hr")])]),s("div",{staticClass:"right"})])})),0)],1)])},e=[],r=s(92196),l=s.n(r),c={name:"Msg-Wechat-chatRecord",props:{msg:Object},data:()=>({dialogVisible:!1}),computed:{data(){return this.msg.$Wechat.data},url_pre(){return l().get(this.data,"$url_pre")},title(){return l().get(this.data,"appmsg.title")},des(){const t=l().get(this.data,"appmsg.recorditem.recordinfo.desc","").replace(/(\r\n|\r|\n)/g,"<br/>");return t},datalist(){return l().get(this.data,"appmsg.recorditem.recordinfo.datalist.dataitem",[])||[]}},methods:{avatarUrl(t){const a=l().get(t,"dataitemsource.fromusr");return`${this.url_pre}/avatar/${a}.png`},chatUrl(t,a){const s=this.data.msgId;return`${this.url_pre}/chatList/${s}/${t}_${a}.jpg`},previewImg(t,a){const s=this.datalist.map(((t,a)=>({i:a,fullmd5:t.fullmd5}))).filter((t=>t.fullmd5)).map((t=>this.chatUrl(t.i,t.fullmd5)));this.$hevueImgPreview({multiple:!0,nowImgIndex:s.findIndex((s=>s==this.chatUrl(t,a))),imgList:s})}}},n=c,d=s(1001),o=(0,d.Z)(n,i,e,!1,null,"c58e80d6",null),u=o.exports}}]);