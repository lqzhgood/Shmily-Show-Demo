"use strict";(self["webpackChunkShmily"]=self["webpackChunkShmily"]||[]).push([[367],{22250:function(t,s,n){n.r(s),n.d(s,{default:function(){return h}});var o=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"addComment"},[n("i",{staticClass:"btn el-icon-circle-plus-outline",class:{active:t.commentSId===t.msg.id},attrs:{title:t.commentSId},on:{click:function(s){return t.addStart()}}}),n("i",{staticClass:"btn el-icon-remove-outline",class:{active:t.commentEId===t.msg.id},attrs:{title:t.commentEId},on:{click:function(s){return t.addEnd()}}}),n("i",{staticClass:"btn el-icon-s-promotion",class:{active:t.commentHtml.trim()},on:{click:function(s){return t.selectComment()}}}),n("el-dialog",{staticClass:"dev-dialog-comment",attrs:{visible:t.showDialogHtmlEdit,width:"30%"},on:{"update:visible":function(s){t.showDialogHtmlEdit=s}}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("span",[t._v("新增评论")]),n("Actions",{attrs:{commentSId:t.commentSId}})],1),n("CommentHtmlInput",{attrs:{commentSId:t.commentSId,show:t.showDialogHtmlEdit,subFn:t.addComment,text:t.commentHtml},on:{"update:text":function(s){t.commentHtml=s}}}),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.commentHtml)}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{loading:t.loading},on:{click:function(s){t.showDialogHtmlEdit=!1}}},[t._v("取 消")]),n("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:function(s){return t.addComment()}}},[t._v("确 定")])],1)],1)],1)},e=[],i=n(34665),m=n(58643),d=n(93823),l={props:{msg:Object},data:()=>({loading:!1,showDialogHtmlEdit:!1}),computed:{...(0,i.rn)("dev/",["commentSMsg","commentEMsg"]),commentSId(){return this.commentSMsg?this.commentSMsg.id:""},commentEId(){return this.commentEMsg?this.commentEMsg.id:""},commentHtml:{get(){return this.$store.state.dev.commentHtml},set(t){this.$store.commit("dev/setCommentHtml",t)}}},methods:{selectComment(){(!this.commentSId||this.commentSMsg.index>this.msg.index)&&this.addStart(),(!this.commentEId||this.commentSMsg.index<this.msg.index)&&this.addEnd(),this.showDialogHtmlEdit=!0},addStart(){this.$store.commit("dev/setCommentSMsg",this.msg)},addEnd(){this.$store.commit("dev/setCommentEMsg",this.msg)},addComment(){this.loading||(this.loading=!0,this.$store.dispatch("dev/addComment").then((()=>{this.showDialogHtmlEdit=!1})).finally((()=>{this.loading=!1})))}},components:{CommentHtmlInput:m.Z,Actions:d.Z}},c=l,a=n(1001),r=(0,a.Z)(c,o,e,!1,null,"66f1b9d1",null),h=r.exports}}]);