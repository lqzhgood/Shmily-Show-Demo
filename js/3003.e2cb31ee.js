"use strict";(self["webpackChunkShmily"]=self["webpackChunkShmily"]||[]).push([[3003],{60207:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-divider",{staticClass:"hr"},[s("i",{staticClass:"el-icon-paperclip"})]),e.fileParse.base?s("div",{staticClass:"attachment"},[e.isSpecialExtToPre?s("div",{staticClass:"pre"},["isPic"!=e.specialExt||e.matchSrcInElm(e.msg.html,"img",e.url)?e._e():s("img",{attrs:{src:e.url}}),"isVideo"!=e.specialExt||e.matchSrcInElm(e.msg.html,"video",e.url)?e._e():s("video",{attrs:{src:e.url,controls:""}}),"isAudio"!=e.specialExt||e.matchSrcInElm(e.msg.html,"audio",e.url)?e._e():s("audio",{attrs:{src:e.url,controls:""}}),".amr"===e.ext?s("amr",{attrs:{url:e.url}}):e._e()],1):e._e(),s("div",{staticClass:"content",class:{RealFileNotExist:!e.RealFileExist}},[s("div",{staticClass:"left"},[s("img",{staticClass:"icon",attrs:{src:e.iconMap(e.ext)}})]),s("div",{staticClass:"right"},[s("div",{staticClass:"name",attrs:{title:e.fileParse.base+" - "+e.fileParse.size}},[e._v(" "+e._s(e.fileParse.base)+" "),e.fileParse.size?s("span",{staticClass:"size"},[e._v("( "+e._s(e.fileParse.size)+" )")]):e._e()]),s("div",{staticClass:"action"},[s("a",{attrs:{href:e.url,download:"",target:"_blank"}},[e._v("下载")]),s("a",{attrs:{href:e.url,target:"_blank"}},[e._v("打开")]),"isPic"==e.specialExt?s("a",{on:{click:function(t){return e.openPre(e.url)}}},[e._v("预览")]):e._e()])])])]):s("el-divider",{staticClass:"fileNotExist"},[e._v("文件不存在")])],1)},a=[],r=s(38948),l=s(95787),c={name:"Msg-Components-Common-File-Simple",async mounted(){this.fileParse.base&&(this.RealFileExist=await(0,r.O)(this.url))},props:{msg:{type:Object},fileParse:{type:Object,require:!0},url:{type:String,require:!0}},data:()=>({RealFileExist:!0}),computed:{ext(){return this.fileParse.ext?this.fileParse.ext.toLowerCase():null},specialExt(){const e=this.fileParse.ext;return l.fQ.includes(e.toLowerCase())?"isPic":l.fd.includes(e.toLowerCase())?"isVideo":l.Q5.includes(e.toLowerCase())?"isAudio":""},isSpecialExtToPre(){return!!this.specialExt||".amr"===this.ext}},methods:{iconMap(e){const t="./static/msg/source/QQ/icon/file.png";return t},openPre(e){this.$hevueImgPreview(e)},matchSrcInElm(e,t,s){const i=new RegExp(`<${t}.*?(?:>|\\/>)`,"gi"),a=/src=['"]?([^'"]*)['"]?/i,r=e.match(i)||[];return r.some((e=>{const t=e.match(a).toString()||"";return t.includes(s)}))}},components:{amr:()=>s.e(7663).then(s.bind(s,27663))}},n=c,o=s(1001),u=(0,o.Z)(n,i,a,!1,null,"1c934a8b",null),m=u.exports}}]);