"use strict";(self["webpackChunkShmily"]=self["webpackChunkShmily"]||[]).push([[2907],{36033:function(t,i,o){o.r(i),o.d(i,{default:function(){return h}});var n=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"ModifyComment"},[o("i",{staticClass:"btn el-icon-edit",on:{click:function(i){t.showDialogHtmlEdit=!0}}}),o("el-dialog",{staticClass:"dev-dialog-comment",attrs:{visible:t.showDialogHtmlEdit,width:"30%"},on:{"update:visible":function(i){t.showDialogHtmlEdit=i}}},[o("div",{attrs:{slot:"title"},slot:"title"},[o("span",[t._v("修改评论")]),o("Actions",{attrs:{commentSId:t.msg.id}})],1),o("CommentHtmlInput",{attrs:{commentSId:t.msg.id,show:t.showDialogHtmlEdit,subFn:t.ModifyComment,text:t.newHtml},on:{"update:text":function(i){t.newHtml=i}}}),o("div",{staticClass:"content",domProps:{innerHTML:t._s(t.newHtml)}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{float:"left"},attrs:{loading:t.loading,type:"danger"},on:{click:function(i){return t.DeleteComment()}}},[t._v(" 删除 ")]),o("el-button",{attrs:{loading:t.loading},on:{click:function(i){t.showDialogHtmlEdit=!1}}},[t._v("取 消")]),o("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:function(i){return t.ModifyComment()}}},[t._v("修改")])],1)],1)],1)},e=[],l=o(58643),s=o(93823),m={mounted(){this.newHtml=this.comment.html||""},props:{comment:Object,msg:Object},data:()=>({loading:!1,showDialogHtmlEdit:!1,newHtml:""}),computed:{type(){return this.comment.type}},methods:{ModifyComment(){this.loading||(this.loading=!0,this.$store.dispatch("dev/ModifyComment",{msg:this.msg,comment:this.comment,newHtml:this.newHtml}).then((()=>{this.showDialogHtmlEdit=!1})).finally((()=>{this.loading=!1})))},DeleteComment(){this.loading||(this.loading=!0,this.$store.dispatch("dev/DeleteComment",{msg:this.msg,comment:this.comment}).then((()=>{this.showDialogHtmlEdit=!1})).finally((()=>{this.loading=!1})))}},components:{CommentHtmlInput:l.Z,Actions:s.Z}},a=m,d=o(1001),c=(0,d.Z)(a,n,e,!1,null,"85a826ae",null),h=c.exports}}]);