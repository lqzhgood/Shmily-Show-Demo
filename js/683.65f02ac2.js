"use strict";(self["webpackChunkShmily"]=self["webpackChunkShmily"]||[]).push([[683,9690],{48916:function(t,a,e){e.d(a,{Z:function(){return o}});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-tooltip",{attrs:{effect:"light"},scopedSlots:t._u([{key:"content",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},[e("i",{staticClass:"el-icon-question"})])},s=[],n={name:"Components-Tips-Q",data:()=>({})},l=n,r=e(1001),c=(0,r.Z)(l,i,s,!1,null,"69c24d9e",null),o=c.exports},50683:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("SourceCount",{attrs:{sourceType:t.sourceType,url:t.url,unit:"条"},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",[t._v(" 纯表情消息条数 "),e("TipsQ",[e("div",{staticClass:"tips"},[e("div",[t._v("仅统计可和表情混合发送的消息")]),e("div",[t._v("例如 Wechat 点击表情会直接发送,不可与消息混合发送,此类型不参与统计")]),e("el-divider",[e("span",{staticStyle:{"font-size":"12px"}},[t._v("*T 仅包含以下类型")])]),e("div",{staticClass:"types"},[e("img",{staticClass:"icon",attrs:{src:"/static/icon/source/Wechat-消息.png",title:"Wechat-消息"}}),e("img",{staticClass:"icon",attrs:{src:"/static/icon/source/QQ-消息.png",title:"QQ-消息"}}),e("img",{staticClass:"icon",attrs:{src:"/static/icon/source/MobileQQ-消息.png",title:"MobileQQ-消息"}}),e("img",{staticClass:"icon",attrs:{src:"/static/icon/source/MobileQQ-自定义表情.png",title:"MobileQQ-自定义表情(仅混合消息)"}})]),e("el-divider",[e("i",{staticClass:"el-icon-pie-chart"})]),e("el-table",{staticClass:"table",attrs:{data:t.tableData}},[e("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.row;return[[t.DIRECTION_TYPE_ALL,t.DIRECTION_TYPE_COME].includes(i.type)?e("img",{staticClass:"avatar",attrs:{src:t.DEFAULT_AVATAR_COME}}):t._e(),[t.DIRECTION_TYPE_ALL,t.DIRECTION_TYPE_GO].includes(i.type)?e("img",{staticClass:"avatar",attrs:{src:t.DEFAULT_AVATAR_GO}}):t._e()]}}])}),e("el-table-column",{attrs:{align:"center",label:"纯表情数量",prop:"count","min-width":"65px"}}),e("el-table-column",{attrs:{label:"*T 参与统计消息",align:"center"}},[e("el-table-column",{attrs:{prop:"part.total",label:"消息总数",align:"right"}}),e("el-table-column",{attrs:{align:"right",label:"百分比",prop:"part.percent",formatter:function(t,a,e){return e+"%"}}})],1),e("el-table-column",{attrs:{label:"个人发送消息",align:"center"}},[e("el-table-column",{attrs:{prop:"all.total",label:"消息总数",align:"right"}}),e("el-table-column",{attrs:{align:"right",label:"百分比",prop:"all.percent",formatter:function(t,a,e){return e+"%"}}})],1),e("el-table-column",{attrs:{align:"right",label:"全部消息占比","header-align":"center",prop:"allPercent",formatter:function(t,a,e){return e+"%"}}})],1)],1)])],1)]},proxy:!0}])})},s=[],n=e(63866),l=e(48916),r=e(44935),c=e(45889),o={name:"Statistic-Contrast-Section-SourceCount-Emotion-Pure",async created(){this.tableData=await n.Z.get(`/statistic/${this.sourceType}/${c.DIRECTION_TYPE_ALL}/emotion-pure/count-msg-length.json`)},data:()=>({tableType:"all",tableData:[{type:c.DIRECTION_TYPE_ALL,count:"-",all:{total:"-",percent:"-"},part:{total:"-",percent:"-"},allPercent:"-"},{type:c.DIRECTION_TYPE_COME,count:"-",all:{total:"-",percent:"-"},part:{total:"-",percent:"-"},allPercent:"-"},{type:c.DIRECTION_TYPE_GO,count:"-",all:{total:"-",percent:"-"},part:{total:"-",percent:"-"},allPercent:"-"}],sourceType:c.SOURCE_TYPE_CONTRAST,DEFAULT_AVATAR_COME:c.DEFAULT_AVATAR_COME,DEFAULT_AVATAR_GO:c.DEFAULT_AVATAR_GO,DIRECTION_TYPE_ALL:c.DIRECTION_TYPE_ALL,DIRECTION_TYPE_COME:c.DIRECTION_TYPE_COME,DIRECTION_TYPE_GO:c.DIRECTION_TYPE_GO}),computed:{url(){return`/statistic/${this.sourceType}/${c.DIRECTION_TYPE_ALL}/emotion-pure/sourceCount.json`}},components:{SourceCount:r.Z,TipsQ:l.Z}},u=o,p=e(1001),_=(0,p.Z)(u,i,s,!1,null,"798bfbdc",null),d=_.exports},44935:function(t,a,e){e.d(a,{Z:function(){return d}});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("CardWrap",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"total"},[e("div",{staticClass:"title"},[t._t("title",(function(){return[e("b",[t._v(t._s(t.title||t.sourceType))])]}))],2),t.sourceData?e("div",{staticClass:"content"},[e("DirectionTip",{attrs:{unit:t.unit,direction:t.sourceData.direction,placement:"right"}},[e("span",[t._v(" "+t._s(t.sourceData.count)+" "),e("span",{staticClass:"unit"},[t._v(t._s(t.unit))])])])],1):t._e(),t.activityDayData?e("div",{staticClass:"specialDay"},[e("span",{staticClass:"label"},[t._v("活跃时间")]),e("DirectionTip",{attrs:{unit:t.unit,direction:t.activityDayData.activityDayDirection,placement:"right"}},[e("span",{staticClass:"value"},[t._v(t._s(t.activityDayData.activityDay))])]),e("span",{staticClass:"unit"},[t._v("天")]),e("el-divider",{staticClass:"hr",attrs:{direction:"vertical"}}),e("DirectionTip",{attrs:{direction:null,placement:"right"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 总计 "+t._s(t.activityDayData.allDay)+" 天 | 占比 "+t._s(t.activityDayData.activityDayP)+"% ")]},proxy:!0}],null,!1,137808767)},[e("span",[t._v(t._s(t.activityDayData.activityDayP)+"%")])])],1):t._e(),t.avgData?e("div",{staticClass:"specialDay"},[e("span",{staticClass:"label"},[t._v("平均每天")]),e("DirectionTip",{attrs:{unit:t.unit,direction:t.avgData.avgDirection,placement:"right"}},[e("span",{staticClass:"value"},[t._v(t._s(t.avgData.avg))])]),e("span",{staticClass:"unit"},[t._v(t._s(t.unit))])],1):t._e(),t.maxData?e("div",{staticClass:"specialDay"},[e("span",{staticClass:"label"},[t._v("最多当天")]),e("span",{staticClass:"value"},[t._v(t._s(t.maxData.max))]),e("span",{staticClass:"unit"},[t._v(t._s(t.unit))]),e("el-divider",{staticClass:"hr",attrs:{direction:"vertical"}}),t._l(t.maxData.maxDay,(function(a){return e("span",{key:a.date,staticClass:"maxDay"},[e("DirectionTip",{attrs:{unit:t.unit,direction:a.direction,placement:"right"}},[e("span",[t._v(t._s(a.date))])])],1)}))],2):t._e()]),t.sourceData?e("div",{staticClass:"types"},t._l(t.sourceData.children,(function(a){return e("div",{key:a.label,staticClass:"type"},[a.icon?e("img",{staticClass:"icon",attrs:{src:a.icon}}):t._e(),e("span",{staticClass:"label"},[t._v(t._s(a.label))]),e("DirectionTip",{staticClass:"count",attrs:{unit:t.unit,direction:a.direction}},[e("span",[t._v(t._s(a.count))])])],1)})),0):t._e()])])},s=[],n=e(69690),l=e(8206),r=e(72217),c=e(63866),o={name:"Statistic-Components-Plot-SourceCount",mixins:[l.Z],data:()=>({maxData:null,sourceData:null,avgData:null,activityDayData:null}),computed:{defaultUrl(){return`/statistic/${this.sourceType}/${this.directionType}/sourceCount.json`}},methods:{async updatePlot(){await this.toggleLoading(!0);const t=this.url||this.defaultUrl,a=await c.Z.get(t),{sourceData:e,maxData:i,avgData:s,activityDayData:n}=(0,r.deepFreeze)(a);this.sourceData=e,this.maxData=i,this.avgData=s,this.activityDayData=n,await this.toggleLoading(!1)}},components:{DirectionTip:n["default"]}},u=o,p=e(1001),_=(0,p.Z)(u,i,s,!1,null,"441b745c",null),d=_.exports},69690:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.$slots.title||t.direction?e("el-tooltip",t._b({attrs:{effect:t.effect}},"el-tooltip",t.$attrs,!1),[e("div",{attrs:{slot:"content"},slot:"content"},[t.$slots.title?e("div",{staticClass:"title"},[t._t("title")],2):t._e(),e("hr",{staticClass:"hr"}),t.direction?e("div",{staticClass:"content"},[e("div",{staticClass:"row",staticStyle:{"margin-bottom":"5px"}},[e("img",{staticClass:"img",attrs:{src:t.DEFAULT_AVATAR_COME}}),e("div",{staticClass:"value"},[e("span",[t._v(t._s(t.direction.come)+" "+t._s(t.unit))]),e("span",{staticClass:"divider"},[t._v("/")]),e("span",{staticClass:"percent"},[t._v(" "+t._s(t.direction.comeP)+" "),e("small",[t._v("%")])])])]),e("div",{staticClass:"row"},[e("img",{staticClass:"img",attrs:{src:t.DEFAULT_AVATAR_GO}}),e("div",{staticClass:"value"},[e("span",[t._v(t._s(t.direction.go)+" "+t._s(t.unit))]),e("span",{staticClass:"divider"},[t._v("/")]),e("span",{staticClass:"percent"},[t._v(" "+t._s(t.direction.goP)+" "),e("small",[t._v("%")])])])])]):t._e()]),t._t("default")],2):e("div",[t._t("default")],2)},s=[],n=e(95460),l={name:"Statistic-Components-Plot-Tips-directionTip",mixins:[n.Z],props:{direction:{type:Object,require:!0}},data:()=>({})},r=l,c=e(1001),o=(0,c.Z)(r,i,s,!1,null,"d2813294",null),u=o.exports},63866:function(t,a,e){var i=e(26166),s=e.n(i),n=e(74549);const l=s().create({baseURL:"./json/",timeout:36e5});l.interceptors.response.use((t=>t.data),(t=>{const{config:a}=t.response;return n.MessageBox.alert(`无法获取数据 <br /> 请尝试访问 <a href="./json/${a.url}" target="_blank">./json/${a.url}</a>  是否有数据`,"错误",{type:"error",confirmButtonText:"刷新",dangerouslyUseHTMLString:!0}),Promise.reject(t)})),a["Z"]=l},8206:function(t,a,e){var i=e(45889);a["Z"]={props:{title:{type:String,default:""},unit:{type:String,default:"条"},url:[String,Object],sourceType:{type:String},directionType:{type:String,default:i.DIRECTION_TYPE_ALL},plotOptions:{type:Object,default:()=>({plot:{},extra:{}})}},data:()=>({DEFAULT_AVATAR_COME:i.DEFAULT_AVATAR_COME,DEFAULT_AVATAR_GO:i.DEFAULT_AVATAR_GO,$plot:null,loading:!0}),computed:{needUpdate(){return{sourceType:this.sourceType,directionType:this.directionType,url:this.url}}},watch:{needUpdate:{immediate:!0,deep:!0,async handler(){await this.updatePlot()}}},methods:{async toggleLoading(t){t?(this.loading=t,await this.$nextTick()):(await this.$nextTick(),this.loading=t)}},beforeDestroy(){this.$plot&&this.$plot.destroy()}}},95460:function(t,a,e){var i=e(45889);a["Z"]={data:()=>({DEFAULT_AVATAR_COME:i.DEFAULT_AVATAR_COME,DEFAULT_AVATAR_GO:i.DEFAULT_AVATAR_GO}),props:{unit:String,effect:{type:String,default:"light"}}}}}]);